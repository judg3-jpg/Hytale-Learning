<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Creator Profile | Hypixel Creator Manager</title>
  <link rel="stylesheet" href="creator.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Header -->
  <header class="page-header">
    <a href="../dashboard/dashboard.html" class="back-btn">
      ‚Üê Back to Dashboard
    </a>
    <div class="header-logo">
      <div class="logo-icon">H</div>
      <span>HYPIXEL Creator Manager</span>
    </div>
  </header>

  <div class="page-container">
    <!-- Loading State -->
    <div class="loading" id="loadingState">
      <div class="loading-spinner"></div>
      <span>Loading creator data...</span>
    </div>

    <!-- Main Content (hidden until loaded) -->
    <div id="creatorContent" style="display: none;">
      <!-- Profile Header -->
      <div class="profile-header">
        <div class="profile-avatar" id="profileAvatar">
          <span id="avatarInitial">?</span>
        </div>
        <div class="profile-info">
          <h1 class="profile-name" id="creatorName">Loading...</h1>
          <div class="profile-badges">
            <span class="badge badge-rank" id="creatorRank">CREATOR</span>
            <span class="badge badge-platform" id="creatorPlatform">Unknown</span>
            <span class="badge badge-status" id="creatorStatus">Active</span>
          </div>
          <div class="profile-meta">
            <div class="profile-meta-item">
              <span class="profile-meta-icon">üìÖ</span>
              <span>Joined <strong id="creatorDateAccepted">Unknown</strong></span>
            </div>
            <div class="profile-meta-item">
              <span class="profile-meta-icon">üîç</span>
              <span>Last checked <strong id="creatorLastChecked">Never</strong></span>
            </div>
            <div class="profile-meta-item">
              <span class="profile-meta-icon">üéÆ</span>
              <span id="creatorUUID">No UUID</span>
            </div>
          </div>
        </div>
        <div class="profile-actions">
          <button class="btn btn-primary" id="btnMarkReviewed">‚úì Mark Reviewed</button>
          <button class="btn btn-secondary" id="btnEditCreator">Edit Profile</button>
          <button class="btn btn-secondary" id="btnRefreshStats">‚Üª Refresh Stats</button>
        </div>
      </div>

      <!-- Stats Row -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value highlight" id="statSubscribers">-</div>
          <div class="stat-label">Subscribers</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="statLastUpload">-</div>
          <div class="stat-label">Last Upload</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="statContentType">-</div>
          <div class="stat-label">Content Type</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="statLocale">-</div>
          <div class="stat-label">Locale</div>
        </div>
      </div>

      <!-- Content Grid -->
      <div class="content-grid">
        <div class="content-main">
          <!-- Channel Card -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">üì∫ Channel</h3>
            </div>
            <div class="card-body">
              <a href="#" class="channel-link" id="channelLink" target="_blank">
                <div class="channel-icon" id="channelIcon">üì∫</div>
                <div class="channel-info">
                  <div class="channel-name" id="channelName">Unknown Channel</div>
                  <div class="channel-url" id="channelUrl">No URL provided</div>
                </div>
                <span class="channel-arrow">‚Üí</span>
              </a>
              
              <div class="api-status" id="apiStatus" style="margin-top: 16px;">
                <span class="status-dot" id="apiStatusDot"></span>
                <span id="apiStatusText">API not configured</span>
              </div>
            </div>
          </div>

          <!-- Notes Card -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">üìù Notes</h3>
              <button class="btn btn-secondary btn-small" id="btnEditNotes">Edit</button>
            </div>
            <div class="card-body">
              <div class="notes-content" id="notesContent">
                <div class="notes-empty">No notes for this creator.</div>
              </div>
            </div>
          </div>

          <!-- Warnings Card -->
          <div class="card" id="warningsCard" style="display: none;">
            <div class="card-header">
              <h3 class="card-title">‚ö†Ô∏è Warnings</h3>
              <button class="btn btn-secondary btn-small" id="btnEditWarnings">Edit</button>
            </div>
            <div class="card-body">
              <div class="warning-box">
                <p id="warningsContent">No warnings.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-sidebar">
          <!-- Details Card -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">üìã Details</h3>
            </div>
            <div class="card-body">
              <div class="info-list">
                <div class="info-item">
                  <span class="info-label">Verified By</span>
                  <span class="info-value" id="detailVerifiedBy">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Accepted By</span>
                  <span class="info-value" id="detailAcceptedBy">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Content Review By</span>
                  <span class="info-value" id="detailReviewBy">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Creator Code</span>
                  <span class="info-value" id="detailCode">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Language</span>
                  <span class="info-value" id="detailLanguage">-</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Card -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">üìß Contact</h3>
            </div>
            <div class="card-body">
              <div class="info-list">
                <div class="info-item">
                  <span class="info-label">Email</span>
                  <span class="info-value" id="detailEmail">-</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Zendesk ID</span>
                  <span class="info-value" id="detailZendesk">-</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Actions Card -->
          <div class="card">
            <div class="card-header">
              <h3 class="card-title">‚ö° Quick Actions</h3>
            </div>
            <div class="card-body">
              <button class="btn btn-secondary btn-full" id="btnAddNote" style="margin-bottom: 8px;">
                Add Note
              </button>
              <button class="btn btn-secondary btn-full" id="btnAddWarning" style="margin-bottom: 8px;">
                Add Warning
              </button>
              <button class="btn btn-danger btn-full" id="btnDeleteCreator">
                Delete Creator
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Edit Modal -->
  <div class="modal" id="editModal">
    <div class="modal-backdrop" id="editModalBackdrop"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit Creator</h3>
        <button class="modal-close" id="editModalClose">√ó</button>
      </div>
      <div class="modal-body">
        <form class="edit-form" id="editForm">
          <div class="form-section">
            <h4>Basic Information</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="editName">Display Name</label>
                <input type="text" id="editName" placeholder="Creator name">
              </div>
              <div class="form-group">
                <label for="editRank">Rank</label>
                <select id="editRank">
                  <option value="">Select rank...</option>
                  <option value="YOUTUBER">YOUTUBER</option>
                  <option value="YT">YT</option>
                  <option value="STREAMER">STREAMER</option>
                  <option value="BUILDER">BUILDER</option>
                  <option value="EVENTS">EVENTS</option>
                </select>
              </div>
            </div>
            <div class="form-group full-width">
              <label for="editChannel">Channel URL</label>
              <input type="url" id="editChannel" placeholder="https://youtube.com/...">
            </div>
          </div>
          
          <div class="form-section">
            <h4>Stats</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="editSubscribers">Subscribers</label>
                <input type="text" id="editSubscribers" placeholder="e.g. 1500000">
              </div>
              <div class="form-group">
                <label for="editLastUpload">Last Upload</label>
                <input type="text" id="editLastUpload" placeholder="e.g. 3 Months">
              </div>
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label for="editContentType">Content Type</label>
                <select id="editContentType">
                  <option value="">Select type...</option>
                  <option value="Gaming">Gaming</option>
                  <option value="Non-Gaming">Non-Gaming</option>
                  <option value="Mixed">Mixed</option>
                </select>
              </div>
              <div class="form-group">
                <label for="editLocale">Locale</label>
                <input type="text" id="editLocale" placeholder="e.g. English">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h4>Minecraft Account</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="editIGN">Minecraft IGN</label>
                <input type="text" id="editIGN" placeholder="Minecraft username">
              </div>
              <div class="form-group">
                <label for="editUUID">UUID</label>
                <input type="text" id="editUUID" placeholder="UUID">
              </div>
            </div>
          </div>
          
          <div class="form-section">
            <h4>Contact & Notes</h4>
            <div class="form-grid">
              <div class="form-group">
                <label for="editEmail">Contact Email</label>
                <input type="email" id="editEmail" placeholder="creator@email.com">
              </div>
              <div class="form-group">
                <label for="editZendesk">Zendesk ID</label>
                <input type="text" id="editZendesk" placeholder="Zendesk ticket ID">
              </div>
            </div>
            <div class="form-group full-width">
              <label for="editNotes">Notes</label>
              <textarea id="editNotes" placeholder="Any additional notes..."></textarea>
            </div>
            <div class="form-group full-width">
              <label for="editWarnings">Warnings</label>
              <textarea id="editWarnings" placeholder="Any warnings..."></textarea>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="editCancel">Cancel</button>
        <button class="btn btn-primary" id="editSave">Save Changes</button>
      </div>
    </div>
  </div>

  <script src="../lib/csv-manager.js"></script>
  <script src="creator.js"></script>
</body>
</html>
