<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Refund Calculator</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1>üí∞ Refund Calculator</h1>
      <p class="subtitle">Regional Pricing Support</p>
    </header>

    <!-- Regional Pricing Section -->
    <section class="section">
      <div class="section-title">
        <span class="icon">üåç</span>
        Currency Conversion
      </div>
      
      <div class="input-row">
        <div class="input-group flex-2">
          <label for="paidAmount">Customer Paid</label>
          <div class="input-with-symbol">
            <input type="number" id="paidAmount" placeholder="0.00" step="0.01" min="0">
          </div>
        </div>
        <div class="input-group flex-1">
          <label for="paidCurrency">Currency</label>
          <select id="paidCurrency">
            <option value="USD">USD ($)</option>
            <option value="EUR">EUR (‚Ç¨)</option>
            <option value="GBP">GBP (¬£)</option>
            <option value="BRL">BRL (R$)</option>
            <option value="RUB">RUB (‚ÇΩ)</option>
            <option value="TRY">TRY (‚Ç∫)</option>
            <option value="PLN">PLN (z≈Ç)</option>
            <option value="UAH">UAH (‚Ç¥)</option>
            <option value="ARS">ARS ($)</option>
            <option value="MXN">MXN ($)</option>
            <option value="INR">INR (‚Çπ)</option>
            <option value="IDR">IDR (Rp)</option>
            <option value="PHP">PHP (‚Ç±)</option>
            <option value="MYR">MYR (RM)</option>
            <option value="CNY">CNY (¬•)</option>
            <option value="JPY">JPY (¬•)</option>
            <option value="KRW">KRW (‚Ç©)</option>
            <option value="THB">THB (‡∏ø)</option>
            <option value="VND">VND (‚Ç´)</option>
            <option value="ZAR">ZAR (R)</option>
            <option value="CAD">CAD ($)</option>
            <option value="AUD">AUD ($)</option>
            <option value="NZD">NZD ($)</option>
            <option value="SGD">SGD ($)</option>
            <option value="HKD">HKD ($)</option>
            <option value="CHF">CHF (Fr)</option>
            <option value="NOK">NOK (kr)</option>
            <option value="SEK">SEK (kr)</option>
            <option value="DKK">DKK (kr)</option>
            <option value="CZK">CZK (Kƒç)</option>
            <option value="HUF">HUF (Ft)</option>
            <option value="RON">RON (lei)</option>
            <option value="CLP">CLP ($)</option>
            <option value="COP">COP ($)</option>
            <option value="PEN">PEN (S/)</option>
          </select>
        </div>
      </div>

      <div class="input-row">
        <div class="input-group flex-2">
          <label for="usdPrice">USD Base Price</label>
          <div class="input-with-symbol">
            <span class="symbol">$</span>
            <input type="number" id="usdPrice" placeholder="0.00" step="0.01" min="0">
          </div>
        </div>
        <div class="input-group flex-1">
          <label>Exchange Rate</label>
          <div class="exchange-rate" id="exchangeRate">‚Äî</div>
        </div>
      </div>

      <div class="converted-amount" id="convertedDisplay">
        <span class="label">Equivalent in USD:</span>
        <span class="value" id="convertedValue">$0.00</span>
      </div>
    </section>

    <!-- Refund Calculation Section -->
    <section class="section">
      <div class="section-title">
        <span class="icon">üßÆ</span>
        Refund Calculation
      </div>

      <!-- Method Selector -->
      <div class="method-selector">
        <button class="method-btn active" data-method="percentage">
          <span class="method-icon">%</span>
          <span>Percentage</span>
        </button>
        <button class="method-btn" data-method="amount">
          <span class="method-icon">$</span>
          <span>Fixed Amount</span>
        </button>
        <button class="method-btn" data-method="full">
          <span class="method-icon">‚úì</span>
          <span>Full Refund</span>
        </button>
      </div>

      <!-- Refund Input -->
      <div class="input-group" id="refundInputGroup">
        <label id="refundLabel">Refund Percentage</label>
        <div class="input-with-symbol right">
          <input type="number" id="refundValue" placeholder="0" step="1" min="0" max="100">
          <span class="symbol right" id="refundSymbol">%</span>
        </div>
      </div>

      <!-- Quick Percentages -->
      <div class="quick-buttons" id="quickPercentages">
        <button class="quick-btn" data-value="25">25%</button>
        <button class="quick-btn" data-value="50">50%</button>
        <button class="quick-btn" data-value="75">75%</button>
        <button class="quick-btn" data-value="100">100%</button>
      </div>
    </section>

    <!-- Results Section -->
    <section class="section results-section">
      <div class="result-row primary">
        <span class="result-label">Refund Amount (USD)</span>
        <span class="result-value" id="refundAmountUSD">$0.00</span>
      </div>
      <div class="result-row">
        <span class="result-label">Refund in Customer Currency</span>
        <span class="result-value" id="refundAmountLocal">‚Äî</span>
      </div>
      <div class="result-row">
        <span class="result-label">Remaining Balance (USD)</span>
        <span class="result-value secondary" id="remainingAmount">$0.00</span>
      </div>
    </section>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn btn-primary" id="copyUsdBtn" disabled>
        <span class="btn-icon">üìã</span>
        Copy USD
      </button>
      <button class="btn btn-secondary" id="copyLocalBtn" disabled>
        <span class="btn-icon">üìã</span>
        Copy Local
      </button>
      <button class="btn btn-ghost" id="clearBtn">
        <span class="btn-icon">üóëÔ∏è</span>
        Clear
      </button>
    </div>

    <!-- History Section -->
    <section class="section history-section" id="historySection" style="display: none;">
      <div class="section-header">
        <div class="section-title">
          <span class="icon">üìú</span>
          Recent Calculations
        </div>
        <button class="btn-text" id="clearHistoryBtn">Clear All</button>
      </div>
      <div class="history-list" id="historyList"></div>
    </section>

    <!-- Notification -->
    <div class="notification" id="notification"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
